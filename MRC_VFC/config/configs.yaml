# distributed training
nodes: 1
gpus: 4
nr: 0
dataparallel: 0
workers: 8

# Paths
data_path: "/data/DataLACP/guyiqin/ISIC2019LT/ISIC_2019_Training_Input"
csv_file_train: "./split/ISIC2019LT/training.csv"
csv_file_val: "./split/ISIC2019LT/validation.csv"
csv_file_test: "./split/ISIC2019LT/testing.csv"
checkpoints: "./checkpoints"

# Run naming
run_name: ""

# Dataset Options
dataset: "ISIC2019LT"
imbalance_factor: 500 # only for ISIC2019LT

# Stage1 options
seed: 42
batch_size: 128
image_size: 224
start_epoch: 0
epochs: 100
pretrained: True
backbone: "resnet18"
reload: False

# Stage1 options
lr: 0.01
ema_decay: 0.999
batch_loss_weight: 10
channel_loss_weight: 10
classification_loss_weight: 1
probability_loss_weight: 5

# Stage1 auxiliary VAE (kept optional for ablation)
use_aux_vae: False
aux_vae_latent_dim: 128
aux_vae_recon_weight: 1.0
aux_vae_kl_weight: 0.1
aux_vae_recon_type: "l1"  # l1 or mse
aux_vae_start_epoch: 0

# Stage1 gaussian prior (class-conditional)
gaussian_prior_weight: 1.0
gaussian_ema_momentum: 0.1
gaussian_var_floor: 0.0001
gaussian_prior_start_epoch: 20

# Stage2 options
stage2_batch_size: 256
stage2_epochs: 500
classifier_lr: 0.00001
backbone_lr: 0.000001
virtual_size: 50000
